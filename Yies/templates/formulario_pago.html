<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Método de pago</title>
    <link rel="stylesheet" href="/static/css/formulario_pago.css">
</head>
<body>
<div class="contenedor">
    <h2>Selecciona método de pago</h2>

    <form method="POST" action="/procesar_pago" id="formPago">
        <input type="hidden" name="correo" value="{{ correo }}">
        <input type="hidden" name="plan" value="{{ plan }}">

        <label for="metodo_pago">Método de pago:</label><br>
        <select name="metodo_pago" id="metodo_pago" required>
            <option value="">-- Selecciona una opción --</option>
            <option value="Tarjeta Crédito">Tarjeta Crédito</option>
            <option value="PayPal">PayPal</option>
            <option value="Transferencia Bancaria">Transferencia Bancaria</option>
        </select>

        <div id="camposExtra"></div>

        <button type="submit" class="btn">Pagar y suscribirse</button>
    </form>
</div>

<script>
    const metodoPago = document.getElementById('metodo_pago');
    const camposExtra = document.getElementById('camposExtra');

    metodoPago.addEventListener('change', () => {
        const metodo = metodoPago.value;
        camposExtra.innerHTML = ''; // limpia los campos

        if (metodo === 'Tarjeta Crédito') {
            camposExtra.innerHTML = `
                <label>Número de tarjeta:</label>
                <input type="text" name="numero_tarjeta" required maxlength="16" placeholder="1234 5678 9012 3456">

                <label>Fecha de vencimiento:</label>
                <input type="month" name="fecha_vencimiento" required>

                <label>CVV:</label>
                <input type="text" name="cvv" required maxlength="3" placeholder="123">
            `;
        } else if (metodo === 'PayPal') {
            camposExtra.innerHTML = `
                <label>Correo de PayPal:</label>
                <input type="email" name="correo_paypal" required placeholder="usuario@paypal.com">
            `;
        } else if (metodo === 'Transferencia Bancaria') {
            camposExtra.innerHTML = `
                <label>Número de cuenta:</label>
                <input type="text" name="numero_cuenta" required placeholder="000-123456789">

                <label>Banco:</label>
                <input type="text" name="banco" required placeholder="Nombre del banco">
            `;
        }
    });
</script>
</body>
</html>
